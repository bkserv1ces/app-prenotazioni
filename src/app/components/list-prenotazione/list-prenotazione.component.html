<section class="prenotazioni-section section-padding">
    <div class="section-overlay"></div>

    <div class="container">
        <ng-template #errors>
            <div class="text-danger">{{errorMessage}}</div>
        </ng-template>
        <div class="row" *ngIf="prenotazioni; else errors">
            <h2 class="text-center mb-40">Tutte le prenotazioni</h2>

            <form [formGroup]="searchFormGroup" (ngSubmit)="handleSearchPrenotazione()">
                <div class="input-group">
                    <label class="input-group-text">Keyword:</label>
                    <input type="text" class="form-control" formControlName="keyword">
                    <button class="btn btn-info">
                        <i class="bi bi-search"></i>
                    </button>
                </div>
            </form>
            <table class="rwd-table">
                <thead>
                    <tr>
                        <th>Nome</th>
                        <th>Email</th>
                        <th>Numero di Persone</th>
                        <th>Tipo Tavolo</th>
                        <th>Telefono</th>
                        <th>Pagato</th>
                        <th>Codice</th>
                    </tr>
                </thead>
                <tr *ngFor="let p of prenotazioni">
                  <td>{{p.cliente_nome}}</td>
                  <td>{{p.cliente_email}}</td>
                  <td>{{p.numero_persone}}</td>
                  <td>{{p.tipo_tavolo}}</td>
                  <td>{{p.telefono}}</td>
                  <td>{{p.pagato}}</td>
                  <td>{{p.codice_QR}}</td>
                  <td *ngIf="logService.haRuolo('ADMIN')">
                    <button (click)="handleDeletePrenotazione(p)" class="btn btn-danger">
                        <i class="bi bi-trash"></i>
                    </button>
                  </td>
                </tr>
              </table>
        </div>
    </div>
</section>